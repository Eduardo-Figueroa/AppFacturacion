<ion-backdrop inert></ion-backdrop>
<ion-header>
  <ion-toolbar>
    <ion-title>Iva diferente</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="cerrarModalIva()">Cerrar</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content class="ion-padding">
  <ion-grid>
    <ion-item>
      <ion-label>Iva Nuevo</ion-label>

      <ion-select
        aria-label="Iva"
        placeholder="Valor Iva"
        name=""
        [(ngModel)]="opcionIva"
        okText="Aceptar"
        cancelText="Cancelar"
      >
        <ion-select-option
          *ngFor="let opcion of opcionesIva; let i = index"
          [value]="{
            CodTarifaImpuesto: opcion.CodTarifaImpuesto,
            NombreTarifaImpuesto: opcion.NombreTarifaImpuesto,
            ValorTarifa: opcion.ValorTarifa,
            index: i
          }"
        >
          {{ opcion.CodTarifaImpuesto }} - {{ opcion.NombreTarifaImpuesto }}
        </ion-select-option>
      </ion-select>
    </ion-item>
    <ion-grid style="margin-top: 40px;">

      <ion-row>
        <ion-col size="6">
          <ion-checkbox labelPlacement="end" [(ngModel)]="todosSeleccionados"
          (ionChange)="seleccionTodos()">
            Seleccionar todos
          </ion-checkbox> 
        </ion-col>
  
        <ion-col offset="2"size="4">
          <ion-button (click)="aplicarIva()">Aplicar</ion-button>
        </ion-col>
      </ion-row>   
    </ion-grid>
    <ion-col size="12" *ngFor="let productos of proforma.proforma; let i = index">
        <ion-checkbox labelPlacement="end"  [(ngModel)]="productos.Seleccionado"
        (ionChange)="seleccionar(productos)">
          <ion-card>
            <ion-item>  
              <ion-grid class = "grid">
                <ion-row class="ion-justify-content-between" >
                  <ion-col  size-lg="4" size-md="4" size-sm="4" size-xs="12">
                    <p style="font-weight: bold;">{{productos.Descripcion}}</p>
                  </ion-col> 
            
                  <ion-col  size-lg="4" size-md="4" size-sm="4" size-xs="4">
                      <p>Cant: {{productos.ArticuloCantidad || productos.cantidad}} </p>
                  </ion-col>
                  <ion-col  size-lg="4" size-md="4" size-sm="4" size-xs="4">
                    <p>Desc: {{productos.ArticuloDescuentoPorcentage || productos.descuento}}% </p>
                  </ion-col>
    
                  <ion-col  size-lg="4" size-md="4" size-sm="4" size-xs="4">
                    <p>
                      Total  {{productos.ArticuloVentaTotal}}   
                    </p>
                  </ion-col>
                </ion-row>
              </ion-grid>
    
            </ion-item>
          </ion-card>
        </ion-checkbox> 
    </ion-col>
  </ion-grid>
</ion-content>
